<div id="background-main" class="row">

  <form class="groupForm" ng-hide="selectedPlace" ng-submit="submitForm();">
    <div class="col-xs-5 col-xs-offset-1">
      <div class="well-group text-center" >
        <h3 class="title">Connect Group</h3>
        <table class="table">
          <tbody>
            <tr ng-repeat="user in userList" >
             <td>
               <input type="checkbox" class="styled" ng-model="user.selected" >
             </td>
             <td><h4>{{user.name}}</h4></td>
            </tr>
          </tbody>
        </table>
        <button type="submit" class="btn btn-primary" ng-click="showPlaces()">search for places</button>
      </div>
    </div>
  </form>

    <div class="well-selected-place text-center" ng-show="selectedPlace">  
      <div class="panel-body">
        <div class="text-right" ng-click="clearSelectedPlace();"><button ><a class="close title" href="">X</a></button></div>
          <h2 class="title">{{selectedPlace.name}}</h2>
          <p>yelp rating: {{selectedPlace.rating}}</p>
          <p>{{selectedPlace.summary}}</p>
          <h3 class="title">{{selectedPlace.address}}</h3></br>
          <button class="btn btn-primary" ng-click="textAddress(selectedPlace.name, selectedPlace.address)">text address</button>
        </div>
      </div>

  <!-- two maps (hide and show) are necessary for markers to persist through different submission -->

  <div class="col-md-offset-4 col-lg-offset-4" ng-="selectedPLace">
    <ui-gmap-google-map center="map.center" zoom="map.zoom" options="options">
      <ui-gmap-marker data-ng-repeat="marker in markerList" coords="marker.coords" idkey="marker.id">
        <ui-gmap-window options="windowOptions" closeClick="closeClick()">
          <div>
          {{marker.name.split(' ')[0]}} {{marker.name.split(' ')[1].split('')[0]}}
          </div>
        </ui-gmap-window>
      </ui-gmap-marker>
      <ui-gmap-marker data-ng-repeat="marker in midPointMarker" coords="marker.coords" idkey="marker.id" icon="marker.icon">
        <ui-gmap-window options="windowOptions" closeClick="closeClick()" >
          <div>
            {{marker.name}}
          </div>
        </ui-gmap-window>
      </ui-gmap-marker>
      </ui-gmap-marker>
       <ui-gmap-marker data-ng-repeat="marker in selectedPlaceMarker" coords="marker.coords" idkey="marker.id" icon="marker.icon">
        <ui-gmap-window options="windowOptions" closeClick="closeClick()" >
          <div>
            {{marker.name}}
          </div>
        </ui-gmap-window>
      </ui-gmap-marker>
    </ui-gmap-google-map>
  </div>


  <div ng-show="selectedPLace">
    <ui-gmap-google-map center="map.center" zoom="map.zoom" options="options">
      <ui-gmap-marker data-ng-repeat="marker in markerList" coords="marker.coords" idkey="marker.id">
        <ui-gmap-window options="windowOptions" closeClick="closeClick()">
          <div>
          {{marker.name.split(' ')[0]}} {{marker.name.split(' ')[1].split('')[0]}}
          </div>
        </ui-gmap-window>
      </ui-gmap-marker>
      <ui-gmap-marker data-ng-repeat="marker in midPointMarker" coords="marker.coords" idkey="marker.id" icon="marker.icon">
        <ui-gmap-window options="windowOptions" closeClick="closeClick()" >
          <div>
            {{marker.name}}
          </div>
        </ui-gmap-window>
      </ui-gmap-marker>
       <ui-gmap-marker data-ng-repeat="marker in selectedPlaceMarker" coords="marker.coords" idkey="marker.id" icon="marker.icon">
        <ui-gmap-window options="windowOptions" closeClick="closeClick()" >
          <div>
            {{marker.name}}
          </div>
        </ui-gmap-window>
      </ui-gmap-marker>
    </ui-gmap-google-map>
  </div>

  <div class="col-xs-offset-1 col-xs-4 ">  
    <div class="well-places" ng-hide="selectedPlace" ng-repeat= "place in placesHash" class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
      <div class="panel panel-default">
        <div class="panel panel-default">
          <div ng-class="{ highlighted: place === selectedPlace }" ng-click="selectPlace(place);"class="panel-heading" role="tab" id="headingOne">
            <h4 class="place-name">{{place.name}}</h4>
          </div>
        </div>
      </div>
    </div>
  </div>
 
</div>



